<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NoviSign API Integration Tutorial</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      line-height: 1.6;
      color: #333;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      overflow: hidden;
    }
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 40px;
      text-align: center;
    }
    .header h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
      font-weight: 700;
    }
    .header p {
      font-size: 1.2em;
      opacity: 0.95;
    }
    .header a {
      color: #fff;
      text-decoration: none;
      border-bottom: 2px solid rgba(255,255,255,0.5);
      transition: border-color 0.3s;
    }
    .header a:hover {
      border-bottom-color: #fff;
    }
    .content {
      padding: 40px;
    }
    .section {
      margin-bottom: 40px;
    }
    .section h2 {
      color: #667eea;
      font-size: 1.8em;
      margin-bottom: 20px;
      border-bottom: 3px solid #667eea;
      padding-bottom: 10px;
    }
    .section h3 {
      color: #764ba2;
      font-size: 1.3em;
      margin: 20px 0 10px 0;
    }
    .section p, .section li {
      margin-bottom: 10px;
      font-size: 1.05em;
    }
    .concept-box {
      background: #f8f9fa;
      border-left: 4px solid #667eea;
      padding: 15px 20px;
      margin: 15px 0;
      border-radius: 4px;
    }
    .concept-box strong {
      color: #667eea;
    }
    .endpoint {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 20px;
      margin: 15px 0;
      border-left: 4px solid #764ba2;
    }
    .endpoint-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 10px;
    }
    .method {
      background: #764ba2;
      color: white;
      padding: 5px 12px;
      border-radius: 4px;
      font-weight: bold;
      font-size: 0.85em;
    }
    .method.post {
      background: #28a745;
    }
    .path {
      font-family: 'Courier New', monospace;
      font-weight: bold;
      color: #333;
      font-size: 1.1em;
    }
    .endpoint-desc {
      color: #666;
      margin-left: 75px;
    }
    .try-it {
      display: inline-block;
      background: #667eea;
      color: white;
      padding: 8px 16px;
      border-radius: 4px;
      text-decoration: none;
      margin: 5px 5px 5px 75px;
      font-size: 0.9em;
      transition: background 0.3s;
    }
    .try-it:hover {
      background: #764ba2;
    }
    ol {
      margin-left: 20px;
    }
    ol li {
      margin-bottom: 15px;
      padding-left: 10px;
    }
    code {
      background: #f4f4f4;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      color: #d63384;
    }
    .config-box {
      background: #e7f3ff;
      border: 2px solid #667eea;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
    }
    .config-box dt {
      font-weight: bold;
      color: #667eea;
      margin-top: 10px;
    }
    .config-box dd {
      margin-left: 20px;
      color: #555;
      font-family: 'Courier New', monospace;
    }
    .footer {
      background: #f8f9fa;
      padding: 30px;
      text-align: center;
      color: #666;
      border-top: 1px solid #dee2e6;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üì∫ NoviSign API Integration</h1>
      <p>Learn how to push real-time data to your digital signage</p>
      <p style="margin-top: 10px; font-size: 0.95em;">
        Powered by <a href="https://www.novisign.com" target="_blank">NoviSign.com</a>
      </p>
    </div>

    <div class="content">
      <div class="section">
        <h2>üéØ About This Project</h2>
        <p>
          This tutorial demonstrates how to integrate external data sources with 
          <strong>NoviSign Digital Signage</strong>. Using NYC subway data as an example, 
          you'll learn how to fetch real-time information and push it to your digital displays.
        </p>
        <p style="margin-top: 15px;">
          The backend service automatically fetches F train arrival times and updates your 
          NoviSign screens every <code>{{UPDATE_INTERVAL}}</code> seconds.
        </p>
      </div>

      <div class="section">
        <h2>üîë Key NoviSign Concepts</h2>
        
        <div class="concept-box">
          <strong>Novisign API Endpoint:</strong> <code>https://{STUDIO_DOMAIN}/catalog/items/{items-group}</code>.
        </div>

        <div class="concept-box">
          <strong>Items Group:</strong> A unique identifier for your collection of data points (e.g., <code>{{CATALOG_ITEMS_GROUP}}</code>).
        </div>

        <div class="concept-box">
          <strong>API key</strong> used to send API requests to Novisign catalog API, assigned all data to your Account
        </div>

        <div class="concept-box">
          <strong>Account key</strong> In novisign studio used to retrieve the submitted data</code>
        </div>
      </div>

      <div class="section">
        <h2>‚öôÔ∏è Server Setup Instructions</h2>
        <ol>
          <li>
            <strong>Configure Environment</strong><br>
            Create a <code>.env</code> file with your <code>NOVISIGN_API_KEY</code> and <code>NOVISIGN_STUDIO_DOMAIN</code>.
          </li>
          <li>
            <strong>Install Dependencies</strong><br>
            Run <code>npm install</code> to set up the necessary Node.js packages.
          </li>
          <li>
            <strong>Start the Server</strong><br>
            Run <code>npm start</code> or <code>node server.js</code> to begin the auto-update loop.
          </li>
        </ol>


        <h2>üìò NoviSign Studio Setup</h2>
        <ol>
          <li>
            <strong>Get Your Account Key</strong><br>
            Go to <em>Profile Settings ‚Üí Account Settings</em> in the NoviSign Studio to find your <strong>Account Key</strong>.
          </li>
          <li>
            <strong>Configure Studio API</strong><br>
            In your Creative, enable <strong>Load Preview Parameters</strong> and add a new API integration using the URL: <code>https://app.novisign.com/catalog/{Account-Key}/items/{{CATALOG_ITEMS_GROUP}}</code>.
          </li>
          <li>
            <strong>View the Dynamic Values</strong><br>
            Use a Text widget, type <code>${</code>, and choose your <code>@customapi</code> property (e.g., <code>queens_1.minutesAway</code>).
          </li>
        </ol>
      </div>

      <div class="section">
        <h2>üìä Current Configuration</h2>
        <div class="config-box">
          <dl>
            <dt>Catalog Items Group:</dt>
            <dd>{{CATALOG_ITEMS_GROUP}}</dd>
            
            <dt>Update Interval:</dt>
            <dd>{{UPDATE_INTERVAL}} seconds</dd>
            
            <dt>API URL Base:</dt>
            <dd>https://{{STUDIO_DOMAIN}}/catalog/items/</dd>
            
            <dt>Data Source:</dt>
            <dd>MTA GTFS-rt (F Train at 42 St‚ÄìBryant Park)</dd>
          </dl>
        </div>
      </div>
    </div>

    <div class="footer">
      <p><strong>NoviSign API Demo</strong></p>
      <p style="margin-top: 10px;">Learn more at <a href="https://www.novisign.com" target="_blank" style="color: #667eea;">NoviSign.com</a></p>
    </div>
  </div>
</body>
</html>